<!-- Componente de encabezado -->
<app-header></app-header>

<div class="register-container">
  <h1>Registrarse</h1>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()"> <!-- Vincular el formulario reactivo y el evento submit -->
    <!-- Formulario de registro -->

    <!-- Foto de Perfil -->
    <div class="input-group profile-picture-container">
      <label for="profilePicture">Foto de Perfil</label>
      <input type="file" id="profilePicture" name="profilePicture" accept="image/*" class="profile-picture" (change)="onFileSelected($event)">
      <img *ngIf="profilePictureUrl" [src]="profilePictureUrl" alt="Vista previa de la foto de perfil" class="profile-picture-preview">
    </div>

    <div class="input-group">
      <label for="name">Nombre</label>
      <input type="text" id="name" formControlName="name" placeholder="Ingrese su nombre">
      <div *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched" class="error">
        Nombre es obligatorio.
      </div>
    </div>
    <div class="input-group">
      <label for="surname">Apellido</label>
      <input type="text" id="surname" formControlName="surname" placeholder="Ingrese su apellido">
      <div *ngIf="registerForm.get('surname')?.invalid && registerForm.get('surname')?.touched" class="error">
        Apellido es obligatorio.
      </div>
    </div>
    <div class="input-group">
      <label for="phone">Número de Celular</label>
      <input type="tel" id="phone" formControlName="phone" placeholder="Ingrese su número de celular">
      <div *ngIf="registerForm.get('phone')?.invalid && registerForm.get('phone')?.touched" class="error">
        Número de celular es obligatorio.
      </div>
    </div>
    <div class="input-group">
      <label for="email">Correo</label>
      <input type="email" id="email" formControlName="email" placeholder="Ingrese su correo">
      <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="error">
        Correo es obligatorio y debe ser válido.
      </div>
    </div>
    <div class="input-group">
      <label for="password">Contraseña</label>
      <input type="password" id="password" formControlName="password" placeholder="Ingrese su contraseña">
      <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="error">
        Contraseña es obligatoria.
      </div>
    </div>
    
    <!-- Selección de rol -->
    <div class="input-group">
      <label for="isHost">Es Anfitrión</label>
      <input type="checkbox" id="host" formControlName="host">
    </div>
    
    <div class="input-group">
      <label for="isRenter">Es Arrendatario</label>
      <input type="checkbox" id="renter" formControlName="renter">
    </div>
    
    
    <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid">Registrarse</button>
    <div *ngIf="registerForm.errors?.['roleRequired']" class="error">
      Debes seleccionar un rol.
    </div>
  </form>
</div>

<!-- Componente de pie de página -->
<app-footer></app-footer>